<div class="button-container" #buttonContainer>
  <ng-content select="button[kirby-button]"></ng-content>
  <ng-container *ngIf="!userProvidedButton">
    <button
      kirby-button
      [size]="buttonSize"
      [disabled]="isDisabled"
      type="button"
      [attentionLevel]="attentionLevel"
      #defaultButton
    >
      <kirby-icon [name]="'more'"></kirby-icon>
    </button>
  </ng-container>
</div>
<kirby-card
  kirbyFloating
  [strategy]="'fixed'"
  [reference]="buttonContainerElement"
  [isDisabled]="isDisabled"
  [triggers]="triggers"
  [placement]="placement"
  [DOMPortalOutlet]="DOMPortalOutlet"
  [portalOutletConfig]="portalOutletConfig"
  [closeOnBackdrop]="closeOnBackdrop"
  [closeOnEscapeKey]="closeOnEscapeKey"
  [closeOnSelect]="closeOnSelect"
  [autoPlacement]="autoPlacement"
  [shift]="shift"
  [offset]="_offset"
  [ngStyle]="{
    minWidth: minWidth ? minWidth + 'px' : null
  }"
  class="menu-popover"
>
  <kirby-card-header
    *ngIf="title || subtitle"
    [title]="title"
    [subtitle]="subtitle"
    [isTitleBold]="true"
  >
    <ng-content></ng-content>
  </kirby-card-header>
  <ng-content select="kirby-item,kirby-divider"></ng-content>
</kirby-card>
