<ion-item-sliding
  [class.selected]="isSelected"
  [kirbyListItemColor]="getItemColor"
  [item]="item"
  [disabled]="_isSwipingEnabled ? null : true"
  keyHandler
  [ngClass]="endClass"
  (click)="onItemSelect(item)"
>
  <ng-container
    *ngTemplateOutlet="swipeActionsTemplate; context: { $implicit: item }"
  ></ng-container>
  <ng-container *ngTemplateOutlet="itemTemplate; context: { $implicit: item }"></ng-container>
</ion-item-sliding>

<ng-template #swipeActionsTemplate let-item>
  <ion-item-options *ngIf="hasSwipeActions(item)" [side]="getSwipeActionEnd(item)">
    <div class="swipe-action">
      <ng-container *ngFor="let swipeAction of getSwipeActions(item)">
        <ion-item-option
          [ngClass]="getSwipeActionType(swipeAction, item)"
          (click)="onSwipeActionSelect(swipeAction, item, $event)"
        >
          <div class="item-content">
            <kirby-icon
              *ngIf="getSwipeActionIcon(swipeAction, item)"
              size="sm"
              [name]="getSwipeActionIcon(swipeAction, item)"
            >
            </kirby-icon>
            <ion-label>
              {{ getSwipeActionTitle(swipeAction, item) }}
            </ion-label>
          </div>
        </ion-item-option>
      </ng-container>
    </div>
  </ion-item-options>
</ng-template>
