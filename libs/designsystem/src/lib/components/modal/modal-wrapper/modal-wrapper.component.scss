@import '../../../scss/utils';

// Global modal styling can be found at scss/base/_ionic.scss

:host {
  --header-height: 0px;
  --footer-height: 0px;
  @include media('>=medium') {
    &:not(.drawer) {
      padding-top: 0;
      position: relative;
      contain: inherit;
      min-height: Min(var(--min-height), calc(100vh - var(--kirby-modal-padding-top, 0px)));

      ion-content {
        contain: content;
        max-height: calc(
          100vh - var(--kirby-modal-padding-top, 0px) - var(--header-height) - var(--footer-height)
        );
      }
    }
  }
  padding-top: size('s');
}

ion-header ion-toolbar {
  --border-width: 0;
  --background: transparent;
  --color: #{get-color('black')};
}

// Ensure iOS safe-area padding-top on default/modal flavor
// when opened on presenting element (gets .modal-card class):
:host-context(ion-modal.modal-card) {
  ion-header ion-toolbar:first-of-type {
    padding-top: var(--ion-safe-area-top, 0);
  }
}

// Prevent iOS safe-area padding-top on drawer flavor
// as this is already applied on the top-level modal itself
// in /scss/_global-styles.scss:
:host(.drawer) {
  ion-header ion-toolbar:first-of-type {
    padding-top: 0;
  }
}

ion-title {
  box-sizing: border-box;
  padding-inline-start: calc(48px + var(--padding-start));
  padding-inline-end: calc(48px + var(--padding-end));
  font-size: font-size('l');
  font-weight: font-weight('bold');
}

:host(.drawer) ion-title {
  font-size: font-size('m');
}

ion-content {
  --background: transparent;
  display: flex;
  flex-direction: column;

  @include slotted('*') {
    box-sizing: border-box;
    display: block;
  }

  --padding-top: #{size('m')};
  --padding-bottom: #{size('m')};
  --padding-start: #{size('s')};
  --padding-end: #{size('s')};

  @include media('>=medium') {
    --padding-start: #{size('xxxl')};
    --padding-end: #{size('xxxl')};
  }
}
