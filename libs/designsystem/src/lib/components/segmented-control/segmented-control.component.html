<ion-segment
  *ngIf="isDefaultMode"
  [value]="activeSegment"
  (ionChange)="onSegmentSelect($event.detail.value)"
>
  <div
    *ngFor="let item of items"
    class="segment-btn-wrapper"
    role="group"
    (click)="$event.stopPropagation()"
  >
    <ion-segment-button [value]="item">{{ item.text }}</ion-segment-button>
    <kirby-badge
      *ngIf="item.badge"
      role="text"
      [attr.aria-label]="item.badge.description"
      [themeColor]="item.badge.themeColor"
      >{{ item.badge.content }}</kirby-badge
    >
  </div>
</ion-segment>

<div class="scrollable" role="group" *ngIf="isChipMode">
  <kirby-chip
    [text]="item.text"
    [isSelected]="item.id === activeSegment?.id"
    [attr.aria-selected]="item.id === activeSegment?.id"
    (click)="onSegmentSelect(item)"
    *ngFor="let item of items"
    role="button"
  ></kirby-chip>
</div>
