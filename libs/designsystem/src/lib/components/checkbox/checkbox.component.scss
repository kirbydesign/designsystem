@import '../../scss/utils';

$border-radius: 6px;
$checkbox-icon-size: size('m');

:host {
  display: inline-block;
  vertical-align: middle;
}

ion-checkbox {
  --checkmark-width: #{size('xxxs')};
  --background: #{get-color('white')};
  --border-width: 1px;
  --border-color: #{get-color('semi-dark')};
  --border-radius: #{$border-radius};
  --checkmark-color: #{get-color('black')};
  --background-checked: #{get-color('success')};
  --border-color-checked: #{get-color('success')};
  cursor: pointer;

  // Making clickable area bigger without making icon bigger
  --size: #{$fat-finger-size};
  padding: #{($fat-finger-size - $checkbox-icon-size) / 2};

  &::part(container) {
    padding: size('xxxs');
  }

  &.error {
    --border-color: #{get-color('danger')};
  }
  &.has-focus::part(container) {
    @media (hover: hover) {
      box-shadow: 0 0 0 1px var(--kirby-background-color), 0 0 0 2px #{$focus-ring-color};
      border-radius: $border-radius;
    }
  }
  &:active {
    --background: #{get-color('white-shade')};
    --background-checked: #{get-color('success-shade')};
    --border-color-checked: #{get-color('success-shade')};
  }
  &.checkbox-disabled {
    opacity: 1;
    --checkmark-color: #{get-color('semi-dark')};
    --background: #{get-color('semi-light')};
    --background-checked: #{get-color('semi-light')};
    --border-color: #{get-color('medium')};
    --border-color-checked: #{get-color('semi-light')};
  }
}

.multi {
  --checkmark-color: #{get-color('white')};
  --background-checked: #{get-color('black')};
  --border-color-checked: #{get-color('black')};

  &:active {
    --checkmark-color: #{get-color('white-shade')};
    --background-checked: #{get-color('black-tint')};
    --border-color-checked: #{get-color('black-tint')};
  }
}

:host-context(kirby-item) {
  ion-checkbox {
    --size: #{$checkbox-icon-size};
    padding: 0;
  }
  z-index: 1; // Makes whole kirby-item clickable above item-inner.

  &[slot='start'] {
    margin: 0;
    margin-inline-end: size('s');
  }
}
