<kirby-card
  (click)="bannerClicked($event)"
  [themeColor]="backgroundBlur === 'none' ? 'white' : 'dark'"
  [interactionStatesOnly]="externalLink ? true : false"
>
  <div class="blur-image-wrapper">
    <img class="blur-image" [src]="imagePath" alt="" />
  </div>

  <div class="main-content-wrapper">
    <div class="main-content-image-wrapper">
      <img class="main-content-image" [src]="imagePath" alt="" />
    </div>

    <div class="main-content">
      <div class="main-content-header">
        <span class="kirby-text-normal-bold">
          {{ title }}
        </span>
      </div>

      <div class="main-content-body">
        <div class="main-content-body-text">
          <span class="kirby-text-small">
            {{ bodyText }}
          </span>
        </div>

        <ng-container *ngIf="externalLink">
          <div class="main-content-body-action-link">
            <!-- When an external link is supplied, this anchor tag expands and fills the entire banner so users can click anywhere or focus the banner -->
            <a class="expanded-anchor" href="{{ externalLink }}"></a>
            <kirby-icon name="link"></kirby-icon>
          </div>
          <!-- On large screens we also show a button-like anchor tag in addition to the entire banner anchor -->
          <a
            kirby-button
            class="main-content-body-action-text"
            [attentionLevel]="backgroundBlur === 'none' ? '3' : '2'"
            [showIconOnly]="!actionButtonText"
            size="sm"
            href="{{ externalLink }}"
          >
            {{ actionButtonText }}
            <kirby-icon name="link"></kirby-icon>
          </a>
        </ng-container>

        <button
          class="main-content-body-action-text"
          kirby-button
          *ngIf="actionButtonText && !externalLink"
          [attentionLevel]="backgroundBlur === 'none' ? '3' : '2'"
          size="sm"
        >
          {{ actionButtonText }}
        </button>
      </div>
    </div>

    <div class="dismiss" *ngIf="bannerDismiss.observed">
      <button
        kirby-button
        (click)="bannerDismissed($event)"
        [attentionLevel]="backgroundBlur === 'none' ? '3' : '2'"
        [showIconOnly]="true"
        size="xs"
      >
        <kirby-icon name="close"></kirby-icon>
      </button>
    </div>
  </div>
</kirby-card>
