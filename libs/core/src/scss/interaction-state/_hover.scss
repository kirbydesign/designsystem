@use 'sass:color';
@use 'sass:math';
@use 'sass:meta';
@use '../utils';

$default-loudness: utils.get-loudness('quiet');

// layer 3
@mixin apply-ionic-hover {
  // TODO: Finish implementation
  --background-hover: var(--state-layer-background-color);
}

@mixin apply-hover($loudness: $default-loudness, $flip: false) {
  @if not(meta.type-of($loudness) == number and math.unit($loudness) == '%') {
    @error "$loudness must be a percentage";
  }

  // TODO: Extract into shared mixin for all states

  @include utils.hover {
    cursor: pointer;

    // layer 2
    --state-layer-opacity: #{$loudness / 100%};

    // layer 2
    @if $flip {
      --state-layer-background-color: #fff;
    } @else {
      --state-layer-background-color: #000;
    }
  }
}
